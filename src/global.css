@import 'tailwindcss';

@plugin '@tailwindcss/typography';
@plugin "tw-aria";

@custom-variant dark (&:is(.dark *));

@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
}

@utility container {
  margin-inline: auto;

  @media (width >= theme(--breakpoint-sm)) {
    max-width: none;
  }

  @media (width >= theme(--breakpoint-xl)) {
    max-width: 1100px;
  }

  @media (width >= theme(--breakpoint-2xl)) {
    max-width: 1360px;
  }
}

@utility container {
  @media (width >= 1100px) {
    max-width: 1100px;
  }
}

@layer base {
  * {
    scrollbar-width: thin;
    scrollbar-gutter: stable;
    scrollbar-color: #333 transparent;

    border-color: var(--color-gray-200, currentColor);
  }

  :root {
    --font-sans: 'IBM Plex Sans';
    --font-mono: 'IBM Plex Mono';
  }

  html {
    @apply font-sans text-foreground;
  }

  h1 {
    @apply font-bold text-4xl mb-6;
  }

  h2 {
    @apply font-bold text-2xl mt-6 mb-2;
  }

  p {
    @apply my-2;
  }

  ul {
    @apply list-disc list-inside my-2 ml-4;
  }

  code {
    background-color: var(--color-slate-100);
    color: var(--color-blue-600);
    font-size: var(--text-sm);
    padding: calc(var(--spacing) * 0.5) calc(var(--spacing) * 1.5);
  }
}

:root {
  --background: #ffffff;
  --foreground: #333333;

  /* This are the colors used around, yet I don't want them as tw classes */
  --amber: #fbbf24;
  --white: #f3f3f3;
  --blue: #3b82f6;
  --cyan: #22d3ee;
  --emerald: #34d399;
  --fuchsia: #e879f9;
  --gray: #9ca3af;
  --green: #4ade80;
  --indigo: #818cf8;
  --lime: #a3e635;
  --orange: #fb923c;
  --pink: #f472b6;
  --purple: #a78bfa;
  --red: #f87171;
  --rose: #fb7185;
  --sky: #0ea5e9;
  --teal: #2dd4bf;
  --yellow: #facc15;

  .dark {
    --background: #000000;
    --foreground: #ffffff;
  }
}

.link {
  @apply text-indigo-500 font-medium hover:text-indigo-600 hover:underline;
}

:root {
  --grid-line-width: 1px;
  --grid-animation-delay: 0;
  --grid-h-line-offset: 64px;
}

.h-grid-line:after,
.h-grid-line:before {
  content: '';
  position: absolute;
  top: 0;
  left: calc(var(--grid-h-line-offset) / 2 * -1);
  height: var(--grid-line-width);
  background: var(--color-slate-200);

  animation-name: hGridEntry;
}

.v-grid-line {
  position: absolute;
  width: var(--grid-line-width);
  top: 0;
  background: var(--color-slate-200);

  animation-name: vGridEntry;
}

.h-grid-line:after,
.h-grid-line:before,
.v-grid-line {
  animation-duration: 0.75s;
  animation-timing-function: cubic-bezier(0.645, 0.045, 0.355, 1);
  animation-fill-mode: forwards;
  animation-delay: calc(var(--grid-animation-delay) + 0.25s);
}

@keyframes hGridEntry {
  from {
    width: 0;
    opacity: 0.75;
  }
  to {
    width: calc(100% + var(--grid-h-line-offset));
    opacity: 0.75;
  }
}

@keyframes vGridEntry {
  from {
    height: 0;
    opacity: 0.75;
  }
  to {
    height: 100%;
    opacity: 0.75;
  }
}
